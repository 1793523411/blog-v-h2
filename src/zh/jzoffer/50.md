---
time: 2021-02-27
icon: template
category: ç®—æ³•
article: true
sidebar: auto
footer: ğŸ˜ğŸ˜ğŸ˜
tag:
  - ç®—æ³•
---

# åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I

```
ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚

Â 

ç¤ºä¾‹ 1:

è¾“å…¥: nums = [5,7,7,8,8,10], target = 8
è¾“å‡º: 2
ç¤ºä¾‹Â 2:

è¾“å…¥: nums = [5,7,7,8,8,10], target = 6
è¾“å‡º: 0
Â 

é™åˆ¶ï¼š

0 <= æ•°ç»„é•¿åº¦ <= 50000
```

## ä½¿ç”¨ javascript API

```js
var search = function (nums, target) {
  res = 0;
  while (nums.indexOf(target) != -1) {
    res++;
    nums.splice(nums.indexOf(target), 1);
  }
  return res;
};
```

```js
var search = function (nums, target) {
  let i = nums.indexOf(target);
  let j = nums.lastIndexOf(target);
  return i !== -1 ? j - i + 1 : 0;
};
```

## å¸¸è§„è§£æ³•ä½¿ç”¨å¾ªç¯

```js
var search = function (nums, target) {
  if (!nums.length) return 0;

  let left = 0,
    right = nums.length - 1;
  while (nums[left] !== target && left < nums.length) {
    ++left;
  }
  while (nums[right] !== target && right >= 0) {
    --right;
  }

  return left <= right ? right - left + 1 : 0;
};
```

## äºŒåˆ†æŸ¥æ‰¾æé€Ÿ

```js
var search = function (nums, target) {
  const length = nums.length;
  let start = -1,
    end = -1;

  let left = 0,
    right = length - 1;
  // æ‰¾åˆ°å·¦è¾¹ç•Œï¼šæ‰¾åˆ°ç¬¬ä¸€æ¬¡å‡ºç°
  while (left <= right) {
    let mid = Math.floor((left + right) / 2);
    if (nums[mid] === target) {
      start = mid;
      right = mid - 1; // important
    } else if (nums[mid] > target) {
      right = mid - 1;
    } else {
      left = mid + 1;
    }
  }

  left = 0;
  right = length - 1;
  // æ‰¾åˆ°å³è¾¹ç•Œï¼šæ‰¾åˆ°ç¬¬2æ¬¡å‡ºç°
  while (left <= right) {
    let mid = Math.floor((left + right) / 2);
    if (nums[mid] === target) {
      end = mid;
      left = mid + 1; // important
    } else if (nums[mid] > target) {
      right = mid - 1;
    } else {
      left = mid + 1;
    }
  }

  return start <= end && start !== -1 ? end - start + 1 : 0;
};
```

è¿˜æœ‰ä¸€ç§ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æŸ¥æ‰¾åˆ°å¼€å§‹è®¡æ•°

```js
var search = function (nums, target) {
  let i = 0;
  let j = nums.length;
  let res = 0;
  while (i < j) {
    let m = i + ((j - i) >> 1);
    if (nums[m] == target) {
      // æ‰¾åˆ°äº†, å¾€ä¸¤è¾¹è®¡æ•°
      res++; // æ‰¾åˆ°äº†, å…ˆè®¡ä¸ªæ•°
      let t = m;
      while (nums[--m] === target) res++; // å·¦è¾¹è®¡æ•°
      while (nums[++t] === target) res++; // å³è¾¹è®¡æ•°
      return res;
    } else if (nums[m] < target) {
      // ä¸­é—´å€¼å°äºç›®æ ‡, è¯´æ˜ç›®æ ‡åœ¨å³ä¾§
      i = m + 1;
    } else {
      // å¤§äºç›®æ ‡, è¯´æ˜åœ¨å·¦ä¾§
      j = m;
    }
  }
  return res;
};
```
