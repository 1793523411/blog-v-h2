---
time: 2021-02-27
icon: template
category: ç®—æ³•
article: false
sidebar: auto
footer: ğŸ˜ğŸ˜ğŸ˜
tag:
  - ç®—æ³•
---

# æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²

```
ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹è§„åˆ™æŠŠå®ƒç¿»è¯‘ä¸ºå­—ç¬¦ä¸²ï¼š0 ç¿»è¯‘æˆ â€œaâ€ ï¼Œ1 ç¿»è¯‘æˆ â€œbâ€ï¼Œâ€¦â€¦ï¼Œ11 ç¿»è¯‘æˆ â€œlâ€ï¼Œâ€¦â€¦ï¼Œ25 ç¿»è¯‘æˆ â€œzâ€ã€‚ä¸€ä¸ªæ•°å­—å¯èƒ½æœ‰å¤šä¸ªç¿»è¯‘ã€‚è¯·ç¼–ç¨‹å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°å­—æœ‰å¤šå°‘ç§ä¸åŒçš„ç¿»è¯‘æ–¹æ³•ã€‚

Â 

ç¤ºä¾‹ 1:

è¾“å…¥: 12258
è¾“å‡º: 5
è§£é‡Š: 12258æœ‰5ç§ä¸åŒçš„ç¿»è¯‘ï¼Œåˆ†åˆ«æ˜¯"bccfi", "bwfi", "bczi", "mcfi"å’Œ"mzi"
Â 

æç¤ºï¼š

0 <= num < 231
```

## DFS

æ¯æ¬¡éƒ½æœ‰2ç§é€‰æ‹©ï¼šç¿»è¯‘1ä¸ªæ•°ã€æˆ–2ä¸ªæ•°ï¼Œä½†æœ‰çš„ä¸¤ä½æ•°æ²¡æœ‰å¯¹åº”å­—æ¯ï¼Œç¿»è¯‘2ä¸ªæ•°è¿™ä¸ªé€‰é¡¹å°±è¢«ç æ‰ã€‚

æŒ‡é’ˆä»å·¦å¾€å³æ‰«æï¼Œç”»å‡ºä¸‹å›¾ï¼Œ2 ç§é€‰æ‹©å¯¹åº” 2 ä¸ªåˆ†æ”¯ï¼Œ1 ç§é€‰æ‹©å¯¹åº” 1 ä¸ªåˆ†æ”¯ã€‚

å½“æŒ‡é’ˆåˆ°è¾¾è¾¹ç•Œå’Œæ­£å¥½è¶Šç•Œï¼Œéƒ½è¿”å› 1ã€‚è¿™ä½¿å¾—ä¸‹å›¾ â–³â–³ åˆ†æ”¯è¿”å› 0ã€‚æˆä¸ºæ­»æ”¯ã€‚

![](./01png.png)

+ dfs å‡½æ•°æ±‚ï¼šã€Œå½“å‰æŒ‡é’ˆä½ç½®åˆ°æœ«å°¾çš„æ•°å­—ã€çš„ç¿»è¯‘æ–¹æ³•æ•°ã€‚
+ èŠ‚ç‚¹çš„çŠ¶æ€ç”¨æŒ‡é’ˆè¡¨ç¤ºï¼Œdfs å…¥å£ä¼  0ã€‚
+ å¦‚æœ æŒ‡é’ˆ å’Œ æŒ‡é’ˆ+1 å¯¹åº”çš„ä¸¤ä½æ•°å¤„äº`[10,25]`ï¼Œåˆ™å¯ä»¥ç›´è¯‘ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼š
  + ç¿»è¯‘ 1 ä¸ªæ•°ï¼ŒæŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œé€’å½’è°ƒç”¨ dfsï¼Œè¿”å›å‡ºå‰©ä½™æ•°å­—çš„ç¿»è¯‘æ–¹æ³•æ•°ã€‚
  + ç¿»è¯‘ 2 ä¸ªæ•°ï¼ŒæŒ‡é’ˆèµ°ä¸¤æ­¥ï¼Œé€’å½’è°ƒç”¨ dfsï¼Œè¿”å›å‡ºå‰©ä½™æ•°å­—çš„ç¿»è¯‘æ–¹æ³•æ•°ã€‚
  + äºŒè€…ç›¸åŠ ï¼Œå°±æ˜¯å½“å‰æ•°å­—ä¸²çš„ç¿»è¯‘æ–¹æ³•æ•°ã€‚
+ å¦‚æœ æŒ‡é’ˆ å’Œ æŒ‡é’ˆ+1 å¯¹åº”çš„ä¸¤ä½æ•°è¶…å‡º[10, 25]ï¼Œåˆ™æ— æ³•ç›´è¯‘ï¼Œåªæœ‰ä¸€ä¸ªé€‰æ‹©ï¼š
  + ç¿»è¯‘ 1 ä¸ªæ•°ï¼ŒæŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œé€’å½’è°ƒç”¨ dfsï¼Œè¿”å›å‡ºå‰©ä½™å­ä¸²çš„ç¿»è¯‘æ–¹æ³•æ•°ã€‚



```js
const translateNum = (num) => {
  const str = num.toString();

  const dfs = (str, pointer) => {            // éšç€dfså‘ä¸‹ï¼Œpointerå³ç§»
    if (pointer >= str.length - 1) return 1; // æŒ‡é’ˆæŠµè¾¾è¾¹ç•Œå’Œè¶…å‡ºè¾¹ç•Œéƒ½è¿”å›1

    const temp = Number(str[pointer] + str[pointer + 1]);   // è€ƒå¯Ÿè¯¥2ä½æ•°

    if (temp >= 10 && temp <= 25) {          
      return dfs(str, pointer + 1) + dfs(str, pointer + 2); // 2ä¸ªåˆ†æ”¯çš„ç»“æœç›¸åŠ 
    } else {                                
      return dfs(str, pointer + 1);          // è¿”å›1ä¸ªåˆ†æ”¯çš„ç»“æœ
    }
  }

  return dfs(str, 0);
}
```

å¯¹ä¸Šé¢ä»£ç è¿›è¡Œè®°å¿†ä¼˜åŒ–

å…ˆå¾€ memo å­˜å…¥ä¸¤ä¸ªå·²çŸ¥çš„ã€å¤„äºåº•éƒ¨çš„å­æ ‘çš„ç»“æœã€‚ç­‰ dfs å¾€ä¸‹é‡åˆ°å®ƒï¼Œå°±èƒ½ç›´æ¥ä» memo ä¸­æ‹¿å‡ºæ¥ç”¨ã€‚é€’å½’çš„ç»“æœä»ä¸‹å¾€ä¸Šè¿”å›çš„è¿‡ç¨‹ä¸­ï¼Œå­æ ‘çš„è®¡ç®—ç»“æœä¸æ–­æŠ„å½•åˆ° memo ä¸­

```js
const translateNum = (num) => {
  const str = num.toString();
  const n = str.length;

  const memo = new Array(n);
  memo[n - 1] = 1;   // æŒ‡é’ˆä¸´ç•Œæ—¶çš„å­æ ‘çš„è®¡ç®—ç»“æœ
  memo[n] = 1;       // æŒ‡é’ˆè¶Šç•Œæ—¶çš„å­æ ‘çš„è®¡ç®—ç»“æœ

  const dfs = (str, pointer, memo) => {
    if (memo[pointer]) return memo[pointer]; // ä¹‹å‰å­˜è¿‡ï¼Œç›´æ¥æ‹¿æ¥ç”¨

    const temp = Number(str[pointer] + str[pointer + 1]);

    if (temp >= 10 && temp <= 25) {
      memo[pointer] = dfs(str, pointer + 1, memo) + dfs(str, pointer + 2, memo);
    } else {
      memo[pointer] = dfs(str, pointer + 1, memo);
    }

    return memo[pointer]; // å½“å‰å­æ ‘çš„è®¡ç®—ç»“æœå‘ä¸Šè¿”å›
  };

  return dfs(str, 0, memo);
}
```

## åŠ¨æ€è§„åˆ’

å‰ä¸¤ä¸ªæ–¹æ³•æ˜¯é€’å½’ï¼Œä¸æ–­å‹æ ˆå†ä¸æ–­å‡ºæ ˆã€‚æ˜¯è‡ªä¸Šè€Œä¸‹è§£å†³é—®é¢˜ï¼Œç­‰å¾…ä¸‹é¢è¿”å›ä¸Šæ¥çš„ç»“æœã€‚åŠ¨æ€è§„åˆ’æ˜¯è‡ªä¸‹è€Œä¸Šè§£å†³é—®é¢˜ï¼Œä»å·²çŸ¥çš„ case å‡ºå‘ï¼Œå­˜å‚¨å‰é¢çš„çŠ¶æ€ï¼Œè¿­ä»£å‡ºæœ€åçš„ç»“æœã€‚åŠ¨æ€è§„åˆ’å°±æ˜¯æƒ³åŠæ³•ä¸ç”¨é€’å½’ï¼Œåˆ©ç”¨é€’æ¨å…³ç³»ç”¨â€œå¡«è¡¨æ ¼â€çš„æ–¹å¼é¡ºåºè®¡ç®—ã€‚æ¯ä¸ª dp é¡¹çš„å€¼å…¶å®ç­‰äºä¸€ä¸ªé€’å½’å­è°ƒç”¨çš„ç»“æœï¼ˆé€’å½’å­é—®é¢˜çš„è§£ï¼‰ã€‚

```js
const translateNum = (num) => {
  const str = num.toString();
  const n = str.length;

  const dp = new Array(n + 1);
  dp[0] = 1;
  dp[1] = 1;

  for (let i = 2; i < n + 1; i++) {
    const temp = Number(str[i - 2] + str[i - 1]);
    if (temp >= 10 && temp <= 25) {
      dp[i] = dp[i - 1] + dp[i - 2];
    } else {
      dp[i] = dp[i - 1];
    }
  }
  
  return dp[n]; // ç¿»è¯‘å‰nä¸ªæ•°çš„æ–¹æ³•æ•°ï¼Œå³ç¿»è¯‘æ•´ä¸ªæ•°å­—
}
```


åˆšæ‰çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œn æ˜¯çŠ¶æ€è½¬ç§»çš„æ¬¡æ•°ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(n)ã€‚

ä½ ä¼šå‘ç°ï¼Œå½“å‰ dp é¡¹åªå’Œå®ƒå‰é¢ä¸¤é¡¹æœ‰å…³ï¼Œæ— éœ€ç”¨æ•°ç»„å­˜å‚¨æ‰€æœ‰çš„ dp é¡¹ã€‚ç”¨ä¸¤ä¸ªå˜é‡å»å­˜è¿™ä¸¤ä¸ªçŠ¶æ€å€¼ï¼Œåœ¨è¿­ä»£ä¸­æ›´æ–°å°±å¥½ã€‚ç©ºé—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ° O(1)ã€‚

```js
const translateNum = (num) => {
  const str = num.toString();
  const n = str.length;

  let prev = 1;
  let cur = 1;

  for (let i = 2; i < n + 1; i++) {
    const temp = Number(str[i - 2] + str[i - 1]);
    if (temp >= 10 && temp <= 25) {
      const t = cur;    // ç¼“å­˜ä¸Šä¸ªçŠ¶æ€
      cur = prev + cur; // å½“å‰çŠ¶æ€ = ä¸Šä¸Šä¸ªçŠ¶æ€ + ä¸Šä¸ªçŠ¶æ€
      prev = t;         // æ›´æ–°ä¸Šä¸Šä¸ªçŠ¶æ€
    } else {
      // cur = cur
      prev = cur;       // è¿™é‡Œå®¹æ˜“å¿˜äº†
    }
  } 
  
  return cur;
}
```
