---
time: 2021-02-27
icon: template
category: ç®—æ³•
article: false
sidebar: auto
footer: ğŸ˜ğŸ˜ğŸ˜
tag:
  - ç®—æ³•
---

# é˜Ÿåˆ—çš„æœ€å¤§å€¼

```
è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° max_value å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•°max_valueã€push_back å’Œ pop_front çš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚

è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œpop_front å’Œ max_valueÂ éœ€è¦è¿”å› -1

ç¤ºä¾‹ 1ï¼š

è¾“å…¥:
["MaxQueue","push_back","push_back","max_value","pop_front","max_value"]
[[],[1],[2],[],[],[]]
è¾“å‡º:Â [null,null,null,2,1,2]
ç¤ºä¾‹ 2ï¼š

è¾“å…¥:
["MaxQueue","pop_front","max_value"]
[[],[],[]]
è¾“å‡º:Â [null,-1,-1]
Â 

é™åˆ¶ï¼š

1 <= push_back,pop_front,max_v
```

## ç»´æŠ¤ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—

ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªé˜Ÿåˆ— queue ç”¨äºå­˜æ”¾æ‰€æœ‰å…ƒç´ ï¼Œå¦ä¸€ä¸ªè¾…åŠ©é˜Ÿåˆ— dequeue ç”¨æ¥å­˜æ”¾å½“å‰ queue ä¸­çš„æœ€å¤§å€¼ã€‚

push æ“ä½œï¼š

- å°†å…ƒç´ æ”¾å…¥ queue ä¸­
- æ£€æŸ¥å…ƒç´ æ˜¯å¦å¤§äº dequeue é˜Ÿå°¾å…ƒç´ ï¼Œå¦‚æœå¤§äºï¼Œé‚£ä¹ˆé˜Ÿå°¾å…ƒç´ å‡ºé˜Ÿï¼›ç›´åˆ°ä¸å†æ»¡è¶³å¤§äºæ¡ä»¶

pop æ“ä½œï¼š

- å¦‚æœ queue çš„é˜Ÿé¦–å…ƒç´ ç­‰äº dequeue çš„é˜Ÿé¦–å…ƒç´ ï¼Œé‚£ä¹ˆ dequeue é˜Ÿé¦–å…ƒç´ éœ€è¦å‡ºé˜Ÿ
- queue é˜Ÿé¦–å…ƒç´ éœ€è¦å‡ºé˜Ÿ

é¢˜ç›®è¦æ±‚å¤æ‚åº¦æ§åˆ¶åœ¨ O(1)O(1)ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨åŒç«¯é˜Ÿåˆ—æ¥åšè¾…åŠ©é˜Ÿåˆ—ã€‚å› ä¸º push æ“ä½œä¸­ï¼Œéœ€è¦é¢‘ç¹å¯¹è¾…åŠ©é˜Ÿåˆ—çš„é˜Ÿå°¾å…ƒç´ è¿›è¡Œç§»åŠ¨æ“ä½œã€‚

```js
var MaxQueue = function () {
  this.queue = [];
  this.dequeue = [];
};

/**
 * @return {number}
 */
MaxQueue.prototype.max_value = function () {
  return this.dequeue.length ? this.dequeue[0] : -1;
};

/**
 * @param {number} value
 * @return {void}
 */
MaxQueue.prototype.push_back = function (value) {
  this.queue.push(value);
  while (this.dequeue.length && value > this.dequeue[this.dequeue.length - 1]) {
    this.dequeue.pop();
  }
  this.dequeue.push(value);
};

/**
 * @return {number}
 */
MaxQueue.prototype.pop_front = function () {
  if (!this.dequeue.length) {
    return -1;
  }
  if (this.queue[0] === this.dequeue[0]) {
    this.dequeue.shift();
  }
  return this.queue.shift();
};

/**
 * Your MaxQueue object will be instantiated and called as such:
 * var obj = new MaxQueue()
 * var param_1 = obj.max_value()
 * obj.push_back(value)
 * var param_3 = obj.pop_front()
 */
```

## ä½¿ç”¨ Math.max()è®¡ç®—æœ€å¤§å€¼

```js
var MaxQueue = function () {
  this.queue = [];
};

/**
 * @return {number}
 */
MaxQueue.prototype.max_value = function () {
  if (!this.queue.length) return -1;
  return Math.max(...this.queue);
};

/**
 * @param {number} value
 * @return {void}
 */
MaxQueue.prototype.push_back = function (value) {
  return this.queue.push(value);
};

/**
 * @return {number}
 */
MaxQueue.prototype.pop_front = function () {
  if (!this.queue.length) return -1;
  return this.queue.shift();
};

/**
 * Your MaxQueue object will be instantiated and called as such:
 * var obj = new MaxQueue()
 * var param_1 = obj.max_value()
 * obj.push_back(value)
 * var param_3 = obj.pop_front()
 */
```
